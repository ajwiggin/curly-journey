{"version":3,"sources":["random-name/index.js","AddProvider.js"],"names":["names","require","r","Math","random","length","module","exports","first","middle","place","last","prefill","window","pglOptions","AddProvider","state","name","clinic","type","allMyClinics","providerTypes","SubmitButton","bind","submit","copy","fetch","url","method","body","JSON","stringify","headers","then","json","Input","id","label","required","value","onChange","addValue","SelectType","defaultValue","event","map","key","See","Object","entries","getMyClinics","rando","a","floor","newState","_id","setState","automatic","val","target","this","clinics","setClinic","React","Component"],"mappings":"uHAAA,IAAIA,EAAQC,EAAQ,IAEpB,SAASC,EAAEF,GACT,OAAO,WACL,OAAOA,KAASG,KAAKC,SAAWJ,EAAMK,UAI1C,IAAID,EAAUE,EAAOC,QAAU,WAC7B,OAAOL,EAAEF,GAAS,IAAME,EAAEF,IAG5BI,EAAOI,MAAQJ,EAAOK,OAASL,EAAOM,MAAQN,EAAOO,KAAOT,EAAEF,I,2fCDtDY,EAAYC,OAAOC,WAAnBF,QACaG,E,yOACnBC,MAAQ,CACNC,KAAML,EAAUR,IAAOI,QAAU,IAAMJ,IAAOO,OAAS,GACvDO,OAAQ,KACRC,KAAMP,EAAU,KAAO,GACvBQ,aAAc,I,EAEhBC,cAAgB,CAAC,KAAM,KAAM,KAAM,O,EACnCC,aAAeA,eAAaC,KAAb,gB,EAEfC,OAAS,WACP,IAAMC,E,mXAAI,IAAQ,EAAKT,cAChBS,EAAKL,aACZM,MAAMC,MAAM,WAAY,CACtBC,OAAQ,OACRC,KAAMC,KAAKC,UAAUN,GACrBO,QAAS,CAAE,eAAgB,sBAC1BC,MAAK,SAAA/B,GAAC,OAAIA,EAAEgC,W,EAkBjBC,MAAQ,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACN,kBAAC,mBAAD,CACEC,UAAQ,EACRD,MAAOA,EACPE,MAAO,EAAKvB,MAAMoB,GAClBI,SAAU,EAAKC,SAASlB,KAAd,eAAyBa,M,EAGvCM,WAAa,kBACX,kBAAC,gBAAD,CACEL,MAAM,gBACNM,aAAa,KACbH,SAAU,kBAAAI,GAAK,OAAI,EAAKH,SAAS,OAAQG,KAExC,EAAKvB,cAAcwB,KAAI,SAAA1B,GAAI,OAC1B,4BAAQ2B,IAAK3B,EAAMoB,MAAOpB,GACvBA,Q,EAKT4B,IAAM,kBACJ,kBAAC,UAAD,KACGC,OAAOC,QAAQ,EAAKjC,OAAO6B,KAC1B,mCAAEC,EAAF,KAAOP,EAAP,WACU,iBAARO,GACE,yBAAKA,IAAKA,GACPA,EADH,OACYP,Q,yHA3CD,IAAD,OAClBW,yBAAejB,MAAK,SAAA/B,GAClB,IAAMiD,EAAQ,SAARA,MAAQC,GAAC,OAAIjD,KAAKkD,MAAMlD,KAAKC,SAAWgD,IACxCE,EAAW,CAAElC,aAAclB,GAC7BU,IACF0C,EAASnC,KAAO,EAAKE,cAAc8B,EAAM,IACzCG,EAASpC,OAAShB,EAAEiD,EAAMjD,EAAEG,SAASkD,KAEvC,EAAKC,SAASF,EAAUG,YAAY,EAAKjC,OAAS,mB,wCAG7CsB,EAAKY,GACZ,IAAMJ,EAAW,GACjBA,EAASR,GAAOY,EAAIC,OAAOpB,MAC3BqB,KAAKJ,SAASF,K,sCAoCN,IACAlC,EAAiBwC,KAAK5C,MAAtBI,aACR,OACE,oCACE,uBAAM2B,IAAN,MACA,kBAAC,eAAD,CACEc,QAASzC,EACT0C,UAAWF,KAAKnB,SAASlB,KAAKqC,KAAM,YAEtC,uBAAMzB,MAAN,CAAYC,GAAG,OAAOC,MAAM,kBAC5B,uBAAMK,WAAN,MACA,uBAAMpB,aAAN,W,aAhFiCyC,IAAMC","file":"static/js/5.274e34e4.chunk.js","sourcesContent":["var names = require('./names.json');\n\nfunction r(names) {\n  return function() {\n    return names[~~(Math.random() * names.length)];\n  };\n}\n\nvar random = (module.exports = function() {\n  return r(names) + ' ' + r(names);\n});\n\nrandom.first = random.middle = random.place = random.last = r(names);\n","import React from 'react';\nimport { url, getMyClinics, automatic } from './url';\nimport random from './random-name';\nimport {\n  SelectClinic,\n  DevInfo,\n  SubmitButton,\n  MySelectField,\n  MyTextInputField,\n} from './Fields';\n\nconst { prefill } = window.pglOptions;\nexport default class AddProvider extends React.Component {\n  state = {\n    name: prefill ? random.first() + ' ' + random.last() : '',\n    clinic: null,\n    type: prefill ? 'MD' : '',\n    allMyClinics: [],\n  };\n  providerTypes = ['MD', 'PA', 'NP', 'MSN'];\n  SubmitButton = SubmitButton.bind(this);\n\n  submit = () => {\n    const copy = { ...this.state };\n    delete copy.allMyClinics;\n    fetch(url + 'provider', {\n      method: 'POST',\n      body: JSON.stringify(copy),\n      headers: { 'Content-Type': 'application/json' },\n    }).then(r => r.json());\n  };\n  componentDidMount() {\n    getMyClinics().then(r => {\n      const rando = a => Math.floor(Math.random() * a);\n      const newState = { allMyClinics: r };\n      if (prefill) {\n        newState.type = this.providerTypes[rando(4)];\n        newState.clinic = r[rando(r.length)]._id;\n      }\n      this.setState(newState, automatic ? this.submit : () => {});\n    });\n  }\n  addValue(key, val) {\n    const newState = {};\n    newState[key] = val.target.value;\n    this.setState(newState);\n  }\n  Input = ({ id, label }) => (\n    <MyTextInputField\n      required\n      label={label}\n      value={this.state[id]}\n      onChange={this.addValue.bind(this, id)}\n    />\n  );\n  SelectType = () => (\n    <MySelectField\n      label=\"Provider Type\"\n      defaultValue=\"MD\"\n      onChange={event => this.addValue('type', event)}\n    >\n      {this.providerTypes.map(type => (\n        <option key={type} value={type}>\n          {type}\n        </option>\n      ))}\n    </MySelectField>\n  );\n  See = () => (\n    <DevInfo>\n      {Object.entries(this.state).map(\n        ([key, value]) =>\n          key !== 'allMyClinics' && (\n            <div key={key}>\n              {key} is {value}\n            </div>\n          )\n      )}\n    </DevInfo>\n  );\n\n  render() {\n    const { allMyClinics } = this.state;\n    return (\n      <>\n        <this.See />\n        <SelectClinic\n          clinics={allMyClinics}\n          setClinic={this.addValue.bind(this, 'clinic')}\n        />\n        <this.Input id=\"name\" label=\"Provider Name\" />\n        <this.SelectType />\n        <this.SubmitButton />\n      </>\n    );\n  }\n}\n"],"sourceRoot":""}