(this["webpackJsonpexpress-HelloWorld"]=this["webpackJsonpexpress-HelloWorld"]||[]).push([[20],{164:function(e,t,n){var r={"./":[34,9],"./AddClinic":[72,9,6],"./AddClinic.js":[72,9,6],"./AddProvider":[73,9,7],"./AddProvider.js":[73,9,7],"./AddVisit":[80,9,0,1,8],"./AddVisit.js":[80,9,0,1,8],"./App":[35,9],"./App.css":[48,7],"./App.js":[35,9],"./App.test":[74,9,11],"./App.test.js":[74,9,11],"./AppOld":[75,7,12],"./AppOld.js":[75,7,12],"./ErrorBoundary":[38,9],"./ErrorBoundary.js":[38,9],"./Fields":[27,9],"./Fields.js":[27,9],"./Login":[49,9,0,1,3],"./Login.js":[49,9,0,1,3],"./OneClinic":[71,9,13],"./OneClinic.js":[71,9,13],"./PastVisits":[76,9,10],"./PastVisits.js":[76,9,10],"./Settings":[81,9,14],"./Settings.js":[81,9,14],"./Signup":[50,9,0,1,4],"./Signup.js":[50,9,0,1,4],"./Validation":[68,9,0,15],"./Validation.js":[68,9,0,15],"./data":[70,9,16],"./data.js":[70,9,16],"./image/la_south.gif":[170,7,25],"./image/pglogo.webp":[171,7,23],"./image/pnglogo.png":[41,7],"./index":[34,9],"./index.css":[53,7],"./index.js":[34,9],"./logo.svg":[172,7,24],"./random-name":[39,7,2],"./random-name/":[39,7,2],"./random-name/index":[39,7,2],"./random-name/index.js":[39,7,2],"./random-name/names":[69,3,18],"./random-name/names.json":[69,3,18],"./random-name/places":[77,3,19],"./random-name/places.json":[77,3,19],"./random-name/toJSON":[78,7,5,9],"./random-name/toJSON.js":[78,7,5,9],"./serviceWorker":[79,9,17],"./serviceWorker.js":[79,9,17],"./url":[25,9],"./url.js":[25,9]};function webpackAsyncContext(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(a,t[1])}))}webpackAsyncContext.keys=function webpackAsyncContextKeys(){return Object.keys(r)},webpackAsyncContext.id=164,e.exports=webpackAsyncContext},25:function(e,t,n){"use strict";n.r(t),n.d(t,"url",(function(){return r})),n.d(t,"getMyClinics",(function(){return a})),n.d(t,"automatic",(function(){return i})),n(92).load();var r="/",a=function getMyClinics(){return fetch(r+"clinic",{method:"GET"}).then((function(e){return e.json()}))},i=!1},27:function(e,t,n){"use strict";n.r(t),n.d(t,"MySelectField",(function(){return j})),n.d(t,"MyTextarea",(function(){return O})),n.d(t,"MyTextInputField",(function(){return w})),n.d(t,"SelectClinic",(function(){return x})),n.d(t,"Wrapper",(function(){return S})),n.d(t,"SubmitButton",(function(){return k})),n.d(t,"DevInfo",(function(){return C})),n.d(t,"addValue",(function(){return A})),n.d(t,"OneVisit",(function(){return P})),n.d(t,"Err",(function(){return B})),n.d(t,"compress",(function(){return D})),n.d(t,"routeNames",(function(){return F})),n.d(t,"Loading",(function(){return M})),n.d(t,"PrivateRoute",(function(){return I}));var r=n(11),a=n(17),i=n(43),o=n.n(i),c=n(64),l=n(63),u=n(0),s=n.n(u),d=n(41),m=n.n(d),p=n(167),f=n(166),g=n(168),h=n(33),E=n(66),v=n(25),b=n(37),y=n(15),j=function MySelectField(e){return s.a.createElement(p.a,Object.assign({},e,{inputHeight:48}))},O=function MyTextarea(e){return s.a.createElement(f.a,Object.assign({},e,{style:{fontSize:"16px"}}))},w=function MyTextInputField(e){return s.a.createElement(g.a,Object.assign({},e,{inputHeight:48}))},x=function SelectClinic(e){var t=e.clinics,n=void 0===t?[]:t,r=e.setClinic;return s.a.createElement(j,{label:"Choose a clinic",onChange:r},[{_id:0,name:"Choose a clinic"}].concat(Object(l.a)(n)).map((function(e){var t=e._id,n=e.name;return s.a.createElement("option",{key:t,value:t},n)})))},S=function Wrapper(e){var t=e.children;return s.a.createElement(h.a,{display:"flex",padding:6,background:"tint2",borderRadius:3},s.a.createElement(h.a,{flex:1,alignItems:"center"},t))},k=function SubmitButton(e){var t=this,n=e.link,r=void 0===n?"":n,a=this.state,i=a.submitted;return a.waiting&&!i?"Submitting Data":i?s.a.createElement("div",null,"Successfully Submitted",s.a.createElement("div",null,r||s.a.createElement("button",{onClick:function reload(){return location.reload()}},"Add Another"))):s.a.createElement(E.a,{onClick:function doIt(){t.setState({submitted:!1,waiting:!0},Object(c.a)(o.a.mark((function _callee(){return o.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.submit();case 2:t.setState({submitted:!0});case 3:case"end":return e.stop()}}),_callee)}))))},appearance:"primary",children:"Submit"})},C=function DevInfo(e){var t=e.children;return window.pglOptions.showState&&s.a.createElement(s.a.Fragment,null,t)},A=function addValue(e,t){var n={},r=t.target.value;n[e]=r,this.setState(n)},P=function OneVisit(e){var t=e.visit,n=void 0===t?{}:t,r=e.spending;if(!n._id)return"Choose a Date";var a=n.amountSpent,i=n.providers,o=n.materials,c=n.receiptID,l=n.rep;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h4",null,"For This Visit"),s.a.createElement("div",null,"Amount Spent: $",a),s.a.createElement("div",null,"Materials: ",o.length?o.join(" "):"None"),s.a.createElement("div",null,"Rep: ",l," "),s.a.createElement("div",null,"Providers Present:",s.a.createElement("ol",null,i.map((function(e){return r[e]?s.a.createElement("li",{key:e},r[e].name):"Loading"})))),c&&c.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("h4",null,"Click To Enlarge"),s.a.createElement("div",{style:{display:"flex",height:"350px"}},s.a.createElement("div",{style:{margin:"auto",transform:"rotate(90deg)"}},s.a.createElement("a",{href:"".concat(v.url,"receipt/").concat(c)},s.a.createElement("img",{height:"250px",src:"".concat(v.url,"receipt/").concat(c),alt:"receipt"}))))):"No image was uploaded")},B=function Err(e){var t=e.children;return s.a.createElement("div",{style:{background:"red"}},t)},D=function compress(e,t){e.persist();var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(r){var a=new Image;a.src=r.target.result,a.onload=function(){var n=document.createElement("canvas");n.width=1e3,n.height=a.height*(1e3/a.width);var r=n.getContext("2d");r.drawImage(a,0,0,1e3,n.height),r.canvas.toBlob((function(n){var r=new File([n],e.target.files[0].name,{type:"image/jpeg",lastModified:Date.now()});t(r)}),"image/jpeg",1)},n.onerror=function(e){return console.log(e)}}},F={"Past Visits":["pastvisits"],"Add Clinic":["addclinic"],"Add Provider":["addprovider"],"Add Visit":["addvisit"],Settings:["settings"]},V=function Header(e){var t=e.user,n=function MyButton(e){return s.a.createElement(E.a,Object.assign({style:{flex:"1 1 33%"},height:"36"},e))},r={margin:"auto"};return s.a.createElement("nav",{style:{display:"flex",flexWrap:"wrap"}},window.pglOptions.dev&&s.a.createElement(n,{key:"user",children:s.a.createElement("span",{style:r},"user is ",t)}),s.a.createElement(n,{key:"logout",onClick:function logout(){return fetch(v.url+"logout").then((function(){return location.reload()}))},children:s.a.createElement("span",{style:r},"Logout")}),Object.entries(F).filter((function(e){var n=Object(a.a)(e,1)[0];return"admin"!==t||"Past Visits"===n})).map((function(e){var t=Object(a.a)(e,2),i=t[0],o=Object(a.a)(t[1],1)[0];return!0!==window.pglOptions.settings&&"Settings"===i?null:s.a.createElement(n,{key:i,appearance:window.location.href.includes(o)?"primary":"default"},s.a.createElement(b.c,{to:"/".concat(o),style:{width:"100%",textDecoration:"none",color:"unset"}},s.a.createElement("span",{style:r},i)))})))},M=function Loading(){return s.a.createElement(h.a,{paddingTop:15,paddingBottom:100,height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center"},s.a.createElement("div",{width:"90vw",border:"default",style:{textAlign:"center"}},s.a.createElement("img",{src:m.a,height:"47px",alt:"pgl logo"}),s.a.createElement("h4",null,"Please wait, loading ")))},I=function PrivateRoute(e){var t=e.name,a=e.user,i=Object(r.a)(e,["name","user"]),o=Object(u.lazy)((function(){return n(164)("./".concat(t))}));return s.a.createElement(y.b,Object.assign({},i,{path:"/".concat(t.toLowerCase()),render:function render(e){return a?s.a.createElement(s.a.Fragment,null,s.a.createElement(V,{user:a}),s.a.createElement(h.a,{paddingTop:15,paddingBottom:100,display:"flex",alignItems:"center",justifyContent:"center"},s.a.createElement(h.a,{width:"90vw",border:"default"},s.a.createElement(o,Object.assign({},e,{user:a}))))):s.a.createElement(y.a,{to:"/login"})}}))}},34:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n(0),i=n.n(a),o=n(52),c=n.n(o),l=(n(53),n(35)),u=n(25),s=n(38);window.pglOptions||(window.pglOptions={});for(var d=fetch(u.url+"login",{credentials:"include"}),m=0,p=Object.entries({dev:!1,validate:!0,prefill:!1,showState:!1,settings:!1});m<p.length;m++){var f=p[m],g=Object(r.a)(f,2),h=g[0],E=g[1],v=localStorage[h];window.pglOptions[h]=v?"true"===v:E}c.a.render(i.a.createElement(s.ErrorBoundary,null,i.a.createElement(a.StrictMode,null,i.a.createElement(l.default,{userPromise:d}))),document.getElementById("root"))},35:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n(0),i=n.n(a),o=(n(48),n(37)),c=n(15),l=n(27);t.default=function App(e){var t=e.userPromise,u=Object(a.useState)(!0),s=Object(r.a)(u,2),d=s[0],m=s[1],p=Object(a.useState)(null),f=Object(r.a)(p,2),g=f[0],h=f[1];return Object(a.useEffect)((function(){t.then((function(e){return e.json()})).then((function(e){h(e),m(!1)})).catch((function(e){throw new Error("app js setState on comp did mount")}))}),[t]),d?i.a.createElement(l.Loading,null):i.a.createElement(o.a,null,i.a.createElement(c.b,{exact:!0,path:"/",render:function render(){return g?i.a.createElement(c.a,{to:"/addVisit"}):i.a.createElement(c.a,{to:"/login"})}}),i.a.createElement(a.Suspense,{fallback:i.a.createElement(l.Loading,null)},Object.keys(l.routeNames).map((function(e){return i.a.createElement(l.PrivateRoute,{name:e.split(" ").join(""),key:e.split(" ").join(""),user:g})})),i.a.createElement(c.b,{path:"/login",render:function render(){var e=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,49))}));return i.a.createElement(e,{setUser:h,user:g})}}),i.a.createElement(c.b,{path:"/signup",render:function render(){var e=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,50))}));return i.a.createElement(e,{setUser:h,user:g})}})))}},38:function(e,t,n){"use strict";n.r(t),n.d(t,"ErrorBoundary",(function(){return m}));var r=n(17),a=n(2),i=n(5),o=n(6),c=n(8),l=n(7),u=n(9),s=n(0),d=n.n(s);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=function(e){function ErrorBoundary(e){var t;return Object(i.a)(this,ErrorBoundary),(t=Object(c.a)(this,Object(l.a)(ErrorBoundary).call(this,e))).state={error:null},t}return Object(u.a)(ErrorBoundary,e),Object(o.a)(ErrorBoundary,[{key:"componentDidCatch",value:function componentDidCatch(e,t){this.setState(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({error:e},t))}},{key:"render",value:function render(){return this.state.error?d.a.createElement(d.a.Fragment,null,d.a.createElement("h1",null,"Something went wrong."),d.a.createElement("a",{href:"/"},d.a.createElement("h2",null,"Click here to reload")),Object.entries(this.state).map((function(e){var t=Object(r.a)(e,2),n=t[0],a=t[1];return d.a.createElement("div",{style:{outline:"solid",padding:"10px"},key:n},n," is ",a.toString())}))):this.props.children}}]),ErrorBoundary}(d.a.Component)},41:function(e,t,n){e.exports=n.p+"static/media/pnglogo.a87f43c6.png"},48:function(e,t,n){},53:function(e,t,n){},86:function(e,t,n){e.exports=n(34)}},[[86,21,22]]]);
//# sourceMappingURL=main.54217121.chunk.js.map