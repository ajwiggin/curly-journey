(this["webpackJsonpexpress-HelloWorld"]=this["webpackJsonpexpress-HelloWorld"]||[]).push([[7,11],{71:function(t,e,n){"use strict";n.r(e),n.d(e,"OneClinic",(function(){return o}));var i=n(14),a=n(0),r=n.n(a),c=n(26),s=n(27),o=function OneClinic(t){var e=t.clinicID,n=t.visits,o=void 0===n?[]:n,u=t.clinicName,l=Object(a.useState)({}),f=Object(i.a)(l,2),v=f[0],h=f[1],d=Object(a.useState)({}),p=Object(i.a)(d,2),m=p[0],b=p[1];Object(a.useEffect)((function(){return b({})}),[e]),Object(a.useEffect)((function(){fetch("".concat(c.url,"getSpendingByDoctor/").concat(e)).then((function(t){return t.json()})).then(h)}),[e]);var O=Object.values(v).sort((function(t,e){var n=t.amount;return e.amount-n}));return O.length?r.a.createElement(r.a.Fragment,null,"In the last year at ",u," you have spent these amounts. (Highest is first)",r.a.createElement("ol",null,O.map((function(t){var e=t.amount,n=t.name;return r.a.createElement("li",{key:n},n,": $",e.toFixed(2))}))),r.a.createElement("h2",null,"Visits to ",u," by date "),r.a.createElement(s.MySelectField,{label:"Choose Visit To See Details",onChange:function updateVisitByID(t){var e=t.target.value;return b(o.find((function(t){return t._id===e})))}},r.a.createElement("option",{value:"0"},"Choose a Date"),null===o||void 0===o?void 0:o.map((function(t){var e=t.date,n=t._id;return r.a.createElement("option",{key:n,value:n},new Date(e).toLocaleDateString())}))),r.a.createElement(s.OneVisit,{visit:m,spending:v})):e?"No spending found for this clinic this year":"Choose a clinic"}},77:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var i=n(14),a=n(5),r=n(6),c=n(8),s=n(7),o=n(9),u=n(0),l=n.n(u),f=n(26),v=n(27),h=(n(71),function(t){function PastVisits(){var t,e;Object(a.a)(this,PastVisits);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=Object(c.a)(this,(t=Object(s.a)(PastVisits)).call.apply(t,[this].concat(i)))).state={},e}return Object(o.a)(PastVisits,t),Object(r.a)(PastVisits,[{key:"componentDidMount",value:function componentDidMount(){var t=this;Promise.all(["visits","clinic"].map((function(t){return fetch(f.url+t)}))).then((function(t){return Promise.all(t.map((function(t){return t.json()})))})).then((function(e){var n=Object(i.a)(e,2),a=n[0],r=n[1],c=a.reduce((function(t,e){var n=e.clinic;return t[n]=t[n]?t[n].concat([e]):[e],t}),{}),s=r.filter((function(t){var e,n=t._id;return null===(e=c[n])||void 0===e?void 0:e.length}));t.setState({clinicsThatHaveVisits:s,byClinic:c})}))}},{key:"render",value:function render(){var t=this.state;t.clinicsThatHaveVisits,t.byClinic;return l.a.createElement(v.Receipt,{src:"/api/receipt/5e1f5883085d25796108fff4"})}}]),PastVisits}(l.a.Component))}}]);
//# sourceMappingURL=7.de5c6d55.chunk.js.map